<div class="content" role="main">
  <h2>Appartements</h2>
  <p>Voici la liste des appartements disponibles</p>

  <table mat-table [dataSource]="dataSource">
    <!-- Position Column -->
    <ng-container matColumnDef="position">
      <th mat-header-cell *matHeaderCellDef>NÂ°</th>
      <td mat-cell *matCellDef="let element">{{ element.position }}</td>
    </ng-container>

    <!-- Url Column -->
    <ng-container matColumnDef="url">
      <th mat-header-cell *matHeaderCellDef>Lien</th>
      <td mat-cell *matCellDef="let element">
        <a href="{{ element.url }}"> {{ element.url }} </a>
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
  </table>

  <form class="example-form">
    <fa-icon [icon]="faPlusCircle" (click)="addRow()"></fa-icon>
    <mat-form-field class="example-full-width">
      <mat-label>Lien de l'annonce</mat-label>
      <input
        [(ngModel)]="new_url"
        name="new_url"
        matInput
        type="url"
        placeholder="www.exemple.com"
      />
    </mat-form-field>
  </form>

  <div class="row">
    <div class="col-xs-12">
      <h2>Vos appartements</h2>
      <div class="list-group">
        <button
          class="list-group-item"
          *ngFor="let flat of flats; let i = index"
          (click)="onViewFlat(i)"
        >
          <h3 class="list-group-item-heading">
            {{ flat.link }}
            <button
              class="btn btn-default pull-right"
              (click)="onDeleteFlat(flat)"
            >
              <span class="glyphicon glyphicon-minus"></span>
            </button>
          </h3>
          <p class="list-group-item-text">{{ flat.author }}</p>
        </button>
      </div>
      <button class="btn btn-primary" (click)="onNewFlat()">
        Nouvel appartement
      </button>
    </div>
  </div>
</div>
